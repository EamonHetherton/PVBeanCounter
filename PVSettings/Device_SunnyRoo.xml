<?xml version="1.0" encoding="utf-8" ?>
<devices>
  
  <device>
    <devicetype value="Inverter" />
    <description value="SunnyRoo Inverters (Modbus)" />
    <synonym value="Effekta Inverters (Modbus)" id="Effekta" />
    <specification value="SunnyRoo" />
    <version value="01" />
    <status value="Test Only" />
    <protocol value="Modbus" />
    <endian16bit value="Big" />
    <endian32bit value="Big" />

    <features>
      <feature id="0" type="YieldAC" description="Yield AC - Phase 1" />
      <feature id="1" type="YieldAC" description="Yield AC - Phase 2" />
      <feature id="2" type="YieldAC" description="Yield AC - Phase 3" />
      <feature id="0" type="YieldDC" description="Yield String 1" />
      <feature id="1" type="YieldDC" description="Yield String 2" />
    </features>
    
    <block>
      <name value="Identity" />
      <type value="Identity" />
      <conversation value="Command34" />
      <commandid value="3" />
      <!--base is set to 49328-->
      <base value="0xC0B0" />  
      <islastblock value="true" />
      <register>
        <content value="PowerRating" />
        <id value="1" />
        <type value="uint16" />
      </register>
      <register>
        <content value="Manufacturer" />
        <id value="7" />
        <type value="string" />
        <size value="10" />
      </register>
      <register>
        <content value="Model" />
        <id value="2" />
        <type value="string" />
        <size value="10" />
      </register>
    </block>
    <block>
      <name value="Inverter Data" />
      <type value="Reading" />
      <conversation value="Command34" />
      <commandid value="3" />
      <!--base is set to 49184-->
      <base value="0xC020" />
      <timeoutretries value="5" />
      <register>
        <content value="PowerAC" />
        <id value="0" />
        <type value="uint16" />
        <scale value="0.1" />
      </register>
      <register>
        <content value="VoltsAC1" />
        <id value="1" />
        <type value="uint16" />
      </register>
      <register>
        <content value="VoltsAC2" />
        <id value="2" />
        <type value="uint16" />
      </register>
      <register>
        <content value="VoltsAC3" />
        <id value="3" />
        <type value="uint16" />
      </register>
      <register>
        <content value="CurrentAC1" />
        <id value="4" />
        <type value="uint16" />
        <scale value="10" />
      </register>
      <register>
        <content value="CurrentAC2" />
        <id value="5" />
        <type value="uint16" />
        <scale value="10" />
      </register>
      <register>
        <content value="Frequency" />
        <id value="6" />
        <type value="uint16" />
        <scale value="10" />
      </register>
      <register>
        <content value="Temperature" />
        <id value="9" />
        <type value="uint16" />
      </register>
      <register>
        <content value="VoltsPV1" />
        <id value="11" />
        <type value="uint16" />
      </register>
      <register>
        <content value="VoltsPV2" />
        <id value="12" />
        <type value="uint16" />
      </register>
      <register>
        <content value="CurrentPV1" />
        <id value="13" />
        <type value="uint16" />
        <scale value="10" />
      </register>
      <register>
        <content value="CurrentPV2" />
        <id value="14" />
        <type value="uint16" />
        <scale value="10" />
      </register>
      <register>
        <content value="EnergyTotalAC" />
        <id value="17" />
        <type value="uint32" />
        <scale value="1" />
      </register>
    </block>
    <block>
      <name value="Inverter Status" />
      <type value="Reading" />
      <conversation value="Command34" />
      <commandid value="3" />
      <!--base is set to 49152-->
      <base value="0xC000" />
      <timeoutretries value="5" />
      <register>
        <content value="AlarmRegisters" />
        <isalarmdetail value="true" />
        <isalarmflag value="true" />
        <id value="0" />
        <type value="bytes" />
        <size value="4" />
        <valuelist>
          <option value="0" tag="OK" />
          <option value="2" tag="OK" desc="Standby" />
        </valuelist>
      </register>
      <register>
        <content value="ErrorRegisters" />
        <iserrordetail value="true" />
        <iserrorflag value="true" />
        <id value="16" />
        <type value="bytes" />
        <size value="4" />
        <valuelist>
          <option value="0" tag="OK" />
        </valuelist>
      </register>
    </block>
  </device>

  <device>
    <devicetype value="Inverter" />
    <description value="SunnyRoo Inverters (Non-Modbus)" />
    <synonym value="Powercom Inverters (Non-Modbus)" id="Powercom (Non-Modbus)" />
    <specification value="SunnyRoo (Non-Modbus)" />
    <version value="01" />
    <status value="Test Only" />
    <protocol value="Phoenixtec" />
    <endian16bit value="Big" />
    <endian32bit value="Big" />

    <features>
      <feature type="YieldAC" />
      <feature type="PowerAC"/>
      <feature type="PowerPV" string="0"/>
      <feature type="PowerPV" string="1"/>
      <feature type="PowerPV" string="2"/>
    </features>

    <block>
      <name value="Initialise" />
      <type value="IgnoreIdentity****" />
      <conversation value="SendMessage" />
      <message>
        <name value="Send" />
        <register>
          <type value="bytes" />
          <size value="2" />
          <registervalue value="0xBB BB" />
          <binding value="SendHeader" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x03" />
          <binding value="SendFunction" />
        </register>
        <register>
          <type value="bytes" />
          <registervalue value="" />
          <binding value="SendTrailer" />
        </register>
      </message>
    </block>

    <block>
      <name value="IndentifyInverter" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />
        <register>
          <type value="bytes" />
          <size value="2" />
          <registervalue value="0xBB BB" />
          <binding value="SendHeader" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />
        <register>
          <type value="bytes" />
          <size value="2" />
          <registervalue value="0xBB BB" />
          <binding value="ReceiveHeader" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x80" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <register>
          <type value="string" />
          <content value="SerialNo" />
          <size value="10" />
        </register>
        <register>
          <type value="bytes" />
          <registervalue value="" />
          <binding value="ReceiveTrailer" />
        </register>
      </message>

    </block>

    <block>

      <name value="RegisterInverter" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendFunction" />
        </register>
        <register>
          <type value="string" />
          <content value="SerialNo" />
          <size value="10" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x81" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <register>
          <type value="byte" />
        </register>
      </message>

    </block>

    <block>

      <name value="GetInverterDetails" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x03" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x83" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <register>
          <type value="bytes" />
          <size value="2" />
        </register>
        <register>
          <type value="string" />
          <size value="6" />
          <name value="Capacity" />
        </register>
        <register>
          <type value="string" />
          <size value="7" />
          <name value="Firmware" />
        </register>
        <register>
          <type value="string" />
          <size value="16" />
          <content value="Model" />
        </register>
        <register>
          <type value="string" />
          <size value="14" />
          <content value="Manufacturer" />
        </register>
      </message>

    </block>

    <block>

      <name value="%GetDynamicFormat" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x80" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

    </block>

    <block>

      <name value="%GetDynamicData" />
      <type value="Reading" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x02" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x82" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <registertemplate>
          <type value="uint16" />
          <content value="EnergyTotalACHigh" />
          <scale value="10" />
          <id1 value="0x47" />
          <id3 value="0x07" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="EnergyTotalAC" />
          <scale value="10" />
          <id1 value="0x48" />
          <id3 value="0x08" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="EnergyTodayAC" />
          <scale value="100" />
          <id1 value="0x0D" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="Status" />
          <id1 value="0x4C" />
          <id3 value="0x0C" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="ErrorCode" />
          <id1 value="0x7E" />
          <iserrorflag value="true" />
          <valuelist>
            <option value="0" tag="OK" />
          </valuelist>
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="VoltsPV1" />
          <scale value="10" />
          <id1 value="0x01" />
          <id3 value="0x40" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="CurrentPV1" />
          <scale value="10" />
          <id1 value="0x04" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="VoltsPV2" />
          <scale value="10" />
          <id1 value="0x02" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="CurrentPV2" />
          <scale value="10" />
          <id1 value="0x05" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="VoltsPV3" />
          <scale value="10" />
          <id1 value="0x03" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="CurrentPV3" />
          <scale value="10" />
          <id1 value="0x06" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="Frequency" />
          <scale value="100" />
          <id1 value="0x43" />
          <id3 value="0x0B" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="VoltsAC1" />
          <scale value="10" />
          <id1 value="0x42" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="CurrentAC1" />
          <scale value="10" />
          <id1 value="0x41" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="PowerAC1" />
          <id1 value="0x44" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="ImpedanceAC1" />
          <id1 value="0x45" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="TimeTotalHigh" />
          <id1 value="0x49" />
          <id1 value="0x09" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="TimeTotal" />
          <id1 value="0x4A" />
          <id1 value="0x0A" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="Temperature" />
          <scale value="10" />
          <id1 value="0x00" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <name value="ErrorGV" />
          <iserrordetail value="true" />
          <id1 value="0x78" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <name value="ErrorGF" />
          <iserrordetail value="true" />
          <id1 value="0x79" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <name value="ErrorGZ" />
          <iserrordetail value="true" />
          <id1 value="0x7A" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <name value="ErrorTemp" />
          <iserrordetail value="true" />
          <id1 value="0x7B" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <name value="ErrorPV1" />
          <iserrordetail value="true" />
          <id1 value="0x7C" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <name value="ErrorGFC1" />
          <iserrordetail value="true" />
          <id1 value="0x7E" />
        </registertemplate>

      </message>

    </block>

  </device>

  <device>
    <devicetype value="Inverter" />
    <description value="SunnyRoo Inverters Alt (Non-Modbus)" />
    <synonym value="Powercom Inverters Alt (Non-Modbus)" id="Powercom Alt (Non-Modbus)" />
    <specification value="SunnyRoo Alt (Non-Modbus)" />
    <status value="Test Only" />
    <version value="01" />
    <protocol value="Phoenixtec" />
    <endian16bit value="Big" />
    <endian32bit value="Big" />

    <features>
      <feature type="YieldAC" />
      <feature type="PowerAC"/>
      <feature type="PowerPV" string="0"/>
    </features>

    <block>
      <name value="Initialise" />
      <type value="IgnoreIdentity****" />
      <conversation value="SendMessage" />
      <message>
        <name value="Send" />
        <register>
          <type value="bytes" />
          <size value="2" />
          <registervalue value="0xBB BB" />
          <binding value="SendHeader" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x03" />
          <binding value="SendFunction" />
        </register>
        <register>
          <type value="bytes" />
          <registervalue value="" />
          <binding value="SendTrailer" />
        </register>
      </message>
    </block>

    <block>
      <name value="IndentifyInverter" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />
        <register>
          <type value="bytes" />
          <size value="2" />
          <registervalue value="0xBB BB" />
          <binding value="SendHeader" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />
        <register>
          <type value="bytes" />
          <size value="2" />
          <registervalue value="0xBB BB" />
          <binding value="ReceiveHeader" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x80" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <register>
          <type value="string" />
          <content value="SerialNo" />
          <size value="10" />
        </register>
        <register>
          <type value="bytes" />
          <registervalue value="" />
          <binding value="ReceiveTrailer" />
        </register>
      </message>

    </block>

    <block>

      <name value="RegisterInverter" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendFunction" />
        </register>
        <register>
          <type value="string" />
          <content value="SerialNo" />
          <size value="10" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x81" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <register>
          <type value="byte" />
        </register>
      </message>

    </block>

    <block>

      <name value="GetInverterDetails" />
      <type value="Identity" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x03" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveControl" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x83" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />
        <register>
          <type value="bytes" />
          <size value="2" />
        </register>
        <register>
          <type value="string" />
          <size value="6" />
          <name value="Capacity" />
        </register>
        <register>
          <type value="string" />
          <size value="7" />
          <name value="Firmware" />
        </register>
        <register>
          <type value="string" />
          <size value="16" />
          <content value="Model" />
        </register>
        <register>
          <type value="string" />
          <size value="14" />
          <content value="Manufacturer" />
        </register>
      </message>

    </block>

    <block>

      <name value="GetData" />
      <type value="Reading" />
      <conversation value="SendReceive" />

      <message>
        <name value="Send" />

        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="SendAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="SendInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="SendInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x02" />
          <binding value="SendFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveHeader" />

        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveInvAddr1" />
        </register>
        <register>
          <type value="byte" />
          <content value="Address" />
          <binding value="ReceiveInvAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x01" />
          <binding value="ReceiveAppAddr1" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x00" />
          <binding value="ReceiveAppAddr2" />
        </register>
        <register>
          <type value="byte" />
          <registervalue value="0x82" />
          <binding value="ReceiveFunction" />
        </register>
      </message>

      <message>
        <name value="ReceiveData" />

        <register>
          <type value="uint16" />
          <content value="Temperature" />
          <scale value="10" />
          <position value="0" />
        </register>
        <register>
          <type value="uint16" />
          <content value="VoltsPV1" />
          <scale value="10" />
          <position value="2" />
        </register>
        <register>
          <type value="uint16" />
          <content value="CurrentPV1" />
          <scale value="10" />
          <position value="4" />
        </register>
        <register>
          <type value="uint16" />
          <content value="TimeTotalHigh" />
          <position value="6" />
        </register>
        <register>
          <type value="uint16" />
          <content value="TimeTotal" />
          <position value="8" />
        </register>
        <register>
          <type value="uint16" />
          <content value="Status" />
          <position value="10 " />
        </register>
        <registertemplate>
          <type value="uint16" />
          <content value="ErrorCodeHigh" />
          <iserrorflag value="true" />
          <valuelist>
            <option value="0" tag="OK" />
          </valuelist>
          <position value="18" />
        </registertemplate>
        <registertemplate>
          <type value="uint16" />
          <content value="ErrorCode" />
          <iserrorflag value="true" />
          <valuelist>
            <option value="0" tag="OK" />
          </valuelist>
          <position value="20" />
        </registertemplate>
        <register>
          <type value="uint16" />
          <content value="CurrentAC1" />
          <scale value="10" />
          <position value="22" />
        </register>
        <register>
          <type value="uint16" />
          <content value="VoltsAC1" />
          <scale value="10" />
          <position value="24" />
        </register>
        <register>
          <type value="uint16" />
          <content value="Frequency" />
          <scale value="100" />
          <position value="26" />
        </register>
        <register>
          <type value="uint16" />
          <content value="PowerAC1" />
          <scale value="1" />
          <position value="28" />
        </register>
        <register>
          <type value="uint16" />
          <content value="Impedance" />
          <scale value="1" />
          <position value="30" />
        </register>
        <register>
          <type value="uint16" />
          <content value="EnergyTotalACHigh" />
          <scale value="10" />
          <position value="32" />
        </register>
        <register>
          <type value="uint16" />
          <content value="EnergyTotalAC" />
          <scale value="10" />
          <position value="34" />
        </register>

        <register>
          <type value="uint16" />
          <name value="ErrorGV" />
          <iserrordetail value="true" />
          <position value="36" />
        </register>
        <register>
          <type value="uint16" />
          <name value="ErrorGF" />
          <iserrordetail value="true" />
          <position value="38" />
        </register>
        <register>
          <type value="uint16" />
          <name value="ErrorGZ" />
          <iserrordetail value="true" />
          <position value="40" />
        </register>
        <register>
          <type value="uint16" />
          <name value="ErrorTemp" />
          <iserrordetail value="true" />
          <position value="12" />
        </register>
        <register>
          <type value="uint16" />
          <name value="ErrorPV1" />
          <iserrordetail value="true" />
          <position value="14" />
        </register>
        <register>
          <type value="uint16" />
          <name value="ErrorGFC1" />
          <iserrordetail value="true" />
          <position value="16" />
        </register>

      </message>

    </block>

  </device>
</devices>


